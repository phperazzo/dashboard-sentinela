<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Sentinela</title>
    <link rel="stylesheet" href="styles.css">
    
    <!-- âœ… Chart.js para grÃ¡ficos -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- âœ… Biblioteca MQTT (ESSENCIAL) -->
    <script src="https://unpkg.com/mqtt/dist/mqtt.min.js"></script>
    
    <!-- Font Awesome icons via CSS -->
    <style>
        /* Simple icon replacements */
        .fas.fa-shield-alt::before { content: "ğŸ›¡ï¸"; }
        .fas.fa-wifi::before { content: "ğŸ“¶"; }
        .fas.fa-wifi-slash::before { content: "ğŸ“µ"; }
        .fas.fa-thermometer-half::before { content: "ğŸŒ¡ï¸"; }
        .fas.fa-tint::before { content: "ğŸ’§"; }
        .fas.fa-bolt::before { content: "âš¡"; }
        .fas.fa-ethernet::before { content: "ğŸŒ"; }
        .fas.fa-circle::before { content: "â—"; }
        .fas.fa-chart-line::before { content: "ğŸ“ˆ"; }
        .fas.fa-chart-area::before { content: "ğŸ“Š"; }
        .fas { font-style: normal; }
        
        /* âœ… Estilo adicional para status do MQTT */
        .kafka-status {
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 12px;
            margin-left: 10px;
        }
        .kafka-status.connected {
            background: #d4edda;
            color: #155724;
        }
        .kafka-status.disconnected {
            background: #f8d7da;
            color: #721c24;
        }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <header class="dashboard-header">
            <h1><i class="fas fa-shield-alt"></i> Dashboard Sentinela</h1>
            <div class="connection-status" id="connectionStatus">
                <i class="fas fa-wifi"></i>
                <span>Conectando...</span>
            </div>
            <!-- âœ… Status do MQTT -->
            <div class="mqtt-status disconnected" id="mqttStatus">
                <i class="fas fa-database"></i> MQTT Offline
            </div>
        </header>

        <main class="dashboard-main">
            <section class="metrics-grid">
                <div class="metric-card" id="card-temperature">
                    <div class="metric-icon"><i class="fas fa-thermometer-half"></i></div>
                    <div class="metric-title">Temperatura</div>
                    <div class="metric-value" id="temperatureValue">--</div>
                    <div class="metric-status" id="temperatureStatus">--</div>
                </div>
                <div class="metric-card" id="card-humidity">
                    <div class="metric-icon"><i class="fas fa-tint"></i></div>
                    <div class="metric-title">Umidade</div>
                    <div class="metric-value" id="humidityValue">--</div>
                    <div class="metric-status" id="humidityStatus">--</div>
                </div>
                <div class="metric-card" id="card-voltage">
                    <div class="metric-icon"><i class="fas fa-bolt"></i></div>
                    <div class="metric-title">TensÃ£o</div>
                    <div class="metric-value" id="voltageValue">--</div>
                    <div class="metric-status" id="voltageStatus">--</div>
                </div>
            </section>

            <section class="charts-section">
                <div class="chart-card">
                    <h2><i class="fas fa-chart-line"></i> Temperatura</h2>
                    <canvas id="temperatureChart"></canvas>
                </div>
                <div class="chart-card">
                    <h2><i class="fas fa-chart-area"></i> Umidade</h2>
                    <canvas id="humidityChart"></canvas>
                </div>
                <div class="chart-card">
                    <h2><i class="fas fa-bolt"></i> TensÃ£o</h2>
                    <canvas id="voltageChart"></canvas>
                </div>
            </section>

            <section class="logs-section">
                <h2><i class="fas fa-ethernet"></i> Logs de Eventos</h2>
                <div class="logs-container" id="logsContainer">
                    <!-- Logs dinÃ¢micos -->
                </div>
            </section>
        </main>

        <footer class="dashboard-footer">
            <p>Ãšltima atualizaÃ§Ã£o: <span id="lastUpdate">--</span></p>
            <p>Sistema Sentinela v1.0 - Conectado via MQTT</p>
        </footer>
    </div>

    <!-- âœ… Script.js DEVE vir DEPOIS das bibliotecas -->
    <script src="script.js"></script>
</body>
</html>